<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
<meta property="og:title" content="Python API Reference" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="notes/python-api.html" />
  
<meta property="og:description" content="Objects: Metadata: Vineyard client: Vineyard cluster: Blob: Resolvers and builders: Shared memory: Deployment: I/O Drivers: Streams:" />
  <link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="C++ API Reference" href="cpp-api.html" /><link rel="prev" title="API Reference" href="../api-reference.html" />

    <link rel="shortcut icon" href="../_static/vineyard.ico"/><meta name="generator" content="sphinx-5.0.2, furo 2022.06.21"/>
        <title>Python API Reference - Vineyard</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/brands.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/v4-shims.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/panels.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
  <script>
    document.body.dataset.theme = "light";
  </script>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Vineyard</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/vineyard-logo-h.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user-guide.html">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="objects.html">Internals of Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-accessing.html">Shared Data Accessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="streams.html">Streams in Vineyard</a></li>
<li class="toctree-l2"><a class="reference internal" href="io-drivers.html">I/O Drivers</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/distributed-learning.html">Distributed Learning with Vineyard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/adding-custom-datatypes-cpp.html">Adding Custom Data Types in C++</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../integrations.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="dask.html">Dask on Vineyard</a></li>
<li class="toctree-l2"><a class="reference internal" href="ml.html">Machine Learning with Vineyard</a></li>
<li class="toctree-l2"><a class="reference internal" href="airflow.html">Airflow on Vineyard</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../deployment.html">Deployment</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="deploy-locally.html">Deploying on Linux/MacOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy-docker.html">Deploying using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy-kubernetes.html">Deploying on Kubernetes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../api-reference.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Python API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp-api.html">C++ API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="ctl.html">Vineyard Cli</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../community.html">Join the Community</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contributing to vineyard</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/v6d-io/v6d/edit/main/docs/notes/python-api.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="python-api-reference">
<h1>Python API Reference<a class="headerlink" href="#python-api-reference" title="Permalink to this heading">#</a></h1>
<div class="section" id="objects">
<span id="python-api"></span><h2>Objects<a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.ObjectID">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">ObjectID</span></span><a class="headerlink" href="#vineyard.ObjectID" title="Permalink to this definition">#</a></dt>
<dd><p>Opaque type for vineyard’s object id. The object ID is generated by vineyard server,
the underlying type of <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a> is a 64-bit unsigned integer. Wrapper
utilities are provided to interact with the external python world.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">ObjectID</span><span class="p">(</span><span class="s2">&quot;000043c5c6d5e646&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">000043c5c6d5e646</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">&#39;000043c5c6d5e646&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">ObjectID &lt;&quot;000043c5c6d5e646&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">74516723525190</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectID.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectID.__eq__" title="Permalink to this definition">#</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectID.__hash__">
<span class="sig-name descname"><span class="pre">__hash__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectID.__hash__" title="Permalink to this definition">#</a></dt>
<dd><p>Return hash(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectID.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectID.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectID.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectID.__repr__" title="Permalink to this definition">#</a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectID.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectID.__str__" title="Permalink to this definition">#</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.Object">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">Object</span></span><a class="headerlink" href="#vineyard.Object" title="Permalink to this definition">#</a></dt>
<dd><p>Base class for vineyard objects.</p>
<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#vineyard.Object.id" title="Permalink to this definition">#</a></dt>
<dd><p>The object id of this object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.isglobal">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isglobal</span></span><a class="headerlink" href="#vineyard.Object.isglobal" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the object is a global object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.islocal">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">islocal</span></span><a class="headerlink" href="#vineyard.Object.islocal" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the object is a local object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.ispersist">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ispersist</span></span><a class="headerlink" href="#vineyard.Object.ispersist" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the object is a persistent object. The word “persistent” means the object could
be seen by clients that connect to other vineyard server instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.Object.member">
<span class="sig-name descname"><span class="pre">member</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.Object.member" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">member</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></span></dt>
<dd></dd></dl>

<p>Get the member object of this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – str
The name of the member object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The member object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.Object" title="vineyard.Object">Object</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>ObjectMeta.get, ObjectMeta.__getitem__</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.meta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#vineyard.Object.meta" title="Permalink to this definition">#</a></dt>
<dd><p>The metadata of this object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.nbytes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbytes</span></span><a class="headerlink" href="#vineyard.Object.nbytes" title="Permalink to this definition">#</a></dt>
<dd><p>The nbytes of this object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.signature">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signature</span></span><a class="headerlink" href="#vineyard.Object.signature" title="Permalink to this definition">#</a></dt>
<dd><p>The object signature of this object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Object.typename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">typename</span></span><a class="headerlink" href="#vineyard.Object.typename" title="Permalink to this definition">#</a></dt>
<dd><p>The typename of this object. <code class="code docutils literal notranslate"><span class="pre">typename</span></code> is the string value of the C++ type,
e.g., <code class="code docutils literal notranslate"><span class="pre">vineyard::Array&lt;int&gt;</span></code>, <code class="code docutils literal notranslate"><span class="pre">vineyard::Table</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.ObjectBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">ObjectBuilder</span></span><a class="headerlink" href="#vineyard.ObjectBuilder" title="Permalink to this definition">#</a></dt>
<dd><p>Base class for vineyard object builders.</p>
</dd></dl>

</div>
<div class="section" id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.ObjectMeta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">ObjectMeta</span></span><a class="headerlink" href="#vineyard.ObjectMeta" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a> is the type for metadata of an <a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>.
The <a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a> can be treat as a <em>dict-like</em> type. If the the metadata if
the metadata obtained from vineyard, the metadata is readonly. Otherwise <em>key-value</em>
attributes or object members could be associated with the metadata to construct a
new vineyard object.</p>
<p>We can inspect the <em>key-value</em> attributes and members of an <a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_meta</span><span class="p">(</span><span class="n">hashmap_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span>
<span class="go">ObjectMeta {</span>
<span class="go">    &quot;id&quot;: &quot;0000347aebe92dd0&quot;,</span>
<span class="go">    &quot;instance_id&quot;: &quot;0&quot;,</span>
<span class="go">    ...</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;num_elements_&#39;</span><span class="p">]</span>
<span class="go">&#39;5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;entries&#39;</span><span class="p">]</span>
<span class="go">ObjectMeta {</span>
<span class="go">    &quot;id&quot;: &quot;0000347aebe92dd0&quot;,</span>
<span class="go">    &quot;instance_id&quot;: &quot;0&quot;,</span>
<span class="go">    ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a> value can be iterated over:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;entries&#39;</span><span class="p">])</span>
<span class="go">[&#39;transient&#39;, &#39;num_slots_minus_one_&#39;, &#39;max_lookups_&#39;, &#39;num_elements_&#39;, &#39;entries_&#39;,</span>
<span class="go"> &#39;nbytes&#39;, &#39;typename&#39;, &#39;instance_id&#39;, &#39;id&#39;]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__contains__" title="Permalink to this definition">#</a></dt>
<dd><p>Check if given key exists in the object metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – str
The name to be looked up.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if the queried key exists in this object metadata, otherwise
<code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__getitem__" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">string</span> <span class="pre">or</span> <span class="pre">Object</span></span></span></dt>
<dd></dd></dl>

<p>Get meta or member’s meta from metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – str
The name to be looked up.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>string</em> – If the given key is a key of meta, returns the meta value.</p></li>
<li><p><em>Object</em> – If the given key is a key of member, return the meta of this member.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">global_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<p>Create an empty metadata, the metadata will be used to create a vineyard object.</p>
<dl class="simple">
<dt>Parameters</dt><dd><p><a href="#id2"><span class="problematic" id="id3">global_</span></a>: bool, if the object meta is for creating a global object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__repr__" title="Permalink to this definition">#</a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__setitem__" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Add a metadata to the ObjectMeta.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – str
The name of the new metadata entry.</p></li>
<li><p><strong>value</strong> – <p>str, int, float, bool or list of int
The value of the new metadata entry.</p>
<ul>
<li><p>When the value is a <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, it will be convert to string at first.</p></li>
<li><p>When the value is a list of str, int or float, it will be first dumpped
as string using <code class="code docutils literal notranslate"><span class="pre">json.dumps</span></code>.</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ObjectID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Object</span> <span class="pre">or</span> <span class="pre">ObjectMeta</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Add a member object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – str
The name of the member object.</p></li>
<li><p><strong>object</strong> – <a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>, <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a> or <a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a>
The reference to the member object or the object id of the member object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.__str__" title="Permalink to this definition">#</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.add_member">
<span class="sig-name descname"><span class="pre">add_member</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.add_member" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_member</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ObjectID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Object</span> <span class="pre">or</span> <span class="pre">ObjectMeta</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Add a member object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – str
The name of the member object.</p></li>
<li><p><strong>object</strong> – <a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>, <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a> or <a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMeta</span></code></a>
The reference to the member object or the object id of the member object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.get" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">string</span> <span class="pre">or</span> <span class="pre">Object</span></span></span></dt>
<dd></dd></dl>

<p>Get meta or member’s meta from metadata, return default value if the given key is not
presented.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – str
The name to be looked up.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>str</em> – When the given <code class="code docutils literal notranslate"><span class="pre">key</span></code> belongs to a metadata pair. Note that the metadata value
of type int or float will be returned in string format as well.</p></li>
<li><p><em>ObjectMeta</em> – When the given <code class="code docutils literal notranslate"><span class="pre">key</span></code> is mapped to a member object.</p></li>
<li><p><em>See Also</em> – ObjectMeta.__getitem__</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.get_member">
<span class="sig-name descname"><span class="pre">get_member</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.get_member" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_member</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></span></dt>
<dd></dd></dl>

<p>Get member object from metadata, return None if the given key is not presented, and
raise exception <code class="code docutils literal notranslate"><span class="pre">RuntimeError</span></code> if the given key is associated with a plain
metadata, rather than member object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – str
The name to be looked up.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – When the given key is associated with a plain metadata, rather than member
    object.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>ObjectMeta.__getitem__, ObjectMeta.get</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#vineyard.ObjectMeta.id" title="Permalink to this definition">#</a></dt>
<dd><p>The corresponding object ID of this metadata.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_id</span></span><a class="headerlink" href="#vineyard.ObjectMeta.instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>The <code class="code docutils literal notranslate"><span class="pre">&quot;instance_id&quot;</span></code> of vineyard instance that the metadata been placed on.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.isglobal">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isglobal</span></span><a class="headerlink" href="#vineyard.ObjectMeta.isglobal" title="Permalink to this definition">#</a></dt>
<dd><p>True if the object is a global object, otherwise a local object or remote object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.islocal">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">islocal</span></span><a class="headerlink" href="#vineyard.ObjectMeta.islocal" title="Permalink to this definition">#</a></dt>
<dd><p>True if the object is a local object, otherwise a global object or remote object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.memory_usage">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_usage</span></span><a class="headerlink" href="#vineyard.ObjectMeta.memory_usage" title="Permalink to this definition">#</a></dt>
<dd><p>Get the total memory usage of buffers in this object meta.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.nbytes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbytes</span></span><a class="headerlink" href="#vineyard.ObjectMeta.nbytes" title="Permalink to this definition">#</a></dt>
<dd><p>The <code class="code docutils literal notranslate"><span class="pre">&quot;nbytes&quot;</span></code> attribute of this metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.set_global">
<span class="sig-name descname"><span class="pre">set_global</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.ObjectMeta.set_global" title="Permalink to this definition">#</a></dt>
<dd><p>Mark the building object as a global object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>global</strong> – bool, default is True</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.signature">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signature</span></span><a class="headerlink" href="#vineyard.ObjectMeta.signature" title="Permalink to this definition">#</a></dt>
<dd><p>The corresponding object signature of this metadata.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.ObjectMeta.typename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">typename</span></span><a class="headerlink" href="#vineyard.ObjectMeta.typename" title="Permalink to this definition">#</a></dt>
<dd><p>The <code class="code docutils literal notranslate"><span class="pre">&quot;typename&quot;</span></code> attribute of this metadata.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="vineyard-client">
<h2>Vineyard client<a class="headerlink" href="#vineyard-client" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vineyard.connect">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.connect" title="Permalink to this definition">#</a></dt>
<dd><dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.IPCClient" title="vineyard.IPCClient"><span class="pre">IPCClient</span></a></span></span></dt>
<dd><p>Connect to vineyard via UNIX domain socket for IPC service:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">vineyard</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;/var/run/vineyard.sock&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><dl class="simple">
<dt>endpoint: str</dt><dd><p>UNIX domain socket path to setup an IPC connection.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>IPCClient: The connected IPC client.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span> <span class="pre">or</span> <span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.RPCClient" title="vineyard.RPCClient"><span class="pre">RPCClient</span></a></span></span></dt>
<dd><p>Connect to vineyard via TCP socket.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><dl class="simple">
<dt>host: str</dt><dd><p>Hostname to connect to.</p>
</dd>
<dt>port: int or str</dt><dd><p>The TCP that listened by vineyard TCP service.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>RPCClient: The connected RPC client.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">(str,</span> <span class="pre">int</span> <span class="pre">or</span> <span class="pre">str)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.RPCClient" title="vineyard.RPCClient"><span class="pre">RPCClient</span></a></span></span></dt>
<dd><p>Connect to vineyard via TCP socket.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><dl class="simple">
<dt>endpoint: tuple(str, int or str)</dt><dd><p>Endpoint to connect to. The parameter is a tuple, in which the first element
is the host, and the second parameter, can be int a str, is the port.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>RPCClient: The connected RPC client.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">IPCClient</span> <span class="pre">or</span> <span class="pre">RPCClient</span></span></span></dt>
<dd><p>Connect to vineyard via UNIX domain socket or TCP endpoint. This method normally
usually no arguments, and will first tries to resolve IPC socket from the
environment variable <cite>VINEYARD_IPC_SOCKET</cite> and connect to it. If it fails to
establish a connection with vineyard server, the method will tries to resolve
RPC endpoint from the environment variable <cite>VINEYARD_RPC_ENDPOINT</cite>.</p>
<p>If both tries are failed, this method will raise a <code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionFailed</span></code>
exception.</p>
<p>In rare cases, user may be not sure about if the IPC socket or RPC endpoint
is available, i.e., the variable might be <code class="code docutils literal notranslate"><span class="pre">None</span></code>. In such cases this method
can accept a <cite>None</cite> as arguments, and do resolution as described above.</p>
<dl class="simple">
<dt>Raises:</dt><dd><p>ConnectionFailed</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.IPCClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">IPCClient</span></span><a class="headerlink" href="#vineyard.IPCClient" title="Permalink to this definition">#</a></dt>
<dd><p>IPC client that connects to vineyard instance’s UNIX domain socket.</p>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.allocated_size">
<span class="sig-name descname"><span class="pre">allocated_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.allocated_size" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">allocated_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Object</span> <span class="pre">or</span> <span class="pre">ObjectID</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span></dt>
<dd></dd></dl>

<p>Get the allocated size of the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – Object or ObjectID
The given Object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.clear" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Drop all objects that visible to the current instance in the vineyard cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.close" title="Permalink to this definition">#</a></dt>
<dd><p>Close the client.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.connected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connected</span></span><a class="headerlink" href="#vineyard.IPCClient.connected" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the client instance has been connected to the vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.create_blob">
<span class="sig-name descname"><span class="pre">create_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.create_blob" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><span class="pre">Blob</span></a></span></span></dt>
<dd></dd></dl>

<p>Allocate a blob in vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – int
The size of blob that will be allocated on vineyardd.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BlobBuilder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.create_empty_blob">
<span class="sig-name descname"><span class="pre">create_empty_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.create_empty_blob" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_empty_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><span class="pre">Blob</span></a></span></span></dt>
<dd></dd></dl>

<p>Create an empty blob in vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Blob</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.create_metadata" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Create metadata in vineyardd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> – ObjectMeta
The metadata that will be created on vineyardd.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result created metadata.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">InstanceID</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Create metadata in vineyardd with a specified instance id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> – ObjectMeta
The metadata that will be created on vineyardd.</p></li>
<li><p><strong>instance_id</strong> – InstanceID
The instance to place the object metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result created metadata.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.delete" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete(object_id:</span> <span class="pre">ObjectID</span> <span class="pre">or</span> <span class="pre">List[ObjectID],</span> <span class="pre">force:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">deep:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID or list of ObjectID
Objects that will be deleted. The <code class="code docutils literal notranslate"><span class="pre">object_id</span></code> can be a single
<a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a>, or a list of <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a>.</p></li>
<li><p><strong>force</strong> – bool
Forcedly delete an object means the member will be recursively deleted
even if the member object is also referred by others. The default value
is <code class="code docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>deep</strong> – <p>bool
Deeply delete an object means we will deleting the members recursively.
The default value is <code class="code docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Note that when deleting objects which have <em>direct</em> blob members, the
processing on those blobs yields a “deep” behavior.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">true</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_meta</strong> – The corresponding object meta to delete.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">true</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – The corresponding object meta to delete.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.drop_name">
<span class="sig-name descname"><span class="pre">drop_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.drop_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">drop_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Remove the association of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – str
The name that will be removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.exists" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span></dt>
<dd></dd></dl>

<p>Whether the given object exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object id to check if exists.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> when the specified object exists.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.find_shared_memory">
<span class="sig-name descname"><span class="pre">find_shared_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.find_shared_memory" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">find_shared_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ptr</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span></dt>
<dd></dd></dl>

<p>Find the corresponding blob (if exists) of the given pointer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – address, in int format
The given address.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ObjectID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get" title="Permalink to this definition">#</a></dt>
<dd><p>Get vineyard object as python value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span> <span class="o">=</span> <span class="n">vineyard</span><span class="o">.</span><span class="n">ObjectID</span><span class="p">(</span><span class="s1">&#39;00002ec13bc81226&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arr_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span>
<span class="go">array([0, 1, 2, 3, 4, 5, 6, 7])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – IPCClient or RPCClient
The vineyard client to use.</p></li>
<li><p><strong>object_id</strong> – ObjectID
The object id that will be obtained from vineyard.</p></li>
<li><p><strong>resolver</strong> – When retrieving vineyard object, an optional <em>resolver</em> can be specified.
If no resolver given, the default resolver context will be used.</p></li>
<li><p><strong>kw</strong> – User-specific argument that will be passed to the builder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A python object that return by the resolver, by resolving an vineyard object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_blob">
<span class="sig-name descname"><span class="pre">get_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_blob" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><span class="pre">Blob</span></a></span></span></dt>
<dd></dd></dl>

<p>Getting a blob from vineyard using the given object ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID
The blob to get.</p></li>
<li><p><strong>unsafe</strong> – bool
<code class="code docutils literal notranslate"><span class="pre">unsafe</span></code> means getting the blob even the blob is not sealed yet.
Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Blob</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.get_blob
RPCClient.get_remote_blob
RPCClient.get_remote_blobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_blobs">
<span class="sig-name descname"><span class="pre">get_blobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_blobs" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_blobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><span class="pre">Blob</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd></dd></dl>

<p>Getting blobs from vineyard using the given object IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_ids</strong> – List[ObjectID]
The blobs to get.</p></li>
<li><p><strong>unsafe</strong> – bool
<code class="code docutils literal notranslate"><span class="pre">unsafe</span></code> means getting the blob even the blob is not sealed yet.
Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Blob]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.get_blobs
RPCClient.get_remote_blob
RPCClient.get_remote_blobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_meta">
<span class="sig-name descname"><span class="pre">get_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_meta" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_remote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Get object metadata from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID
The object id to get.</p></li>
<li><p><strong>sync_remote</strong> – bool
If the target object is a remote object, <code class="code docutils literal notranslate"><span class="pre">code_remote=True</span></code> will force
a meta synchronization on the vineyard server. Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ObjectMeta</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_metas">
<span class="sig-name descname"><span class="pre">get_metas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_metas" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_metas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_remote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">List[ObjectMeta]</span></span></dt>
<dd></dd></dl>

<p>Get metadatas of multiple objects from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_ids</strong> – List[ObjectID]
The object ids to get.</p></li>
<li><p><strong>sync_remote</strong> – bool
If the target object is a remote object, <code class="code docutils literal notranslate"><span class="pre">code_remote=True</span></code> will force
a meta synchronization on the vineyard server. Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[ObjectMeta]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_name">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Get the associated object id of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – str
The name that will be queried.</p></li>
<li><p><strong>wait</strong> – bool
Whether to wait util the name appears, if wait, the request will be blocked
until the name been registered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The associated object id with the name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_object">
<span class="sig-name descname"><span class="pre">get_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_object" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></span></dt>
<dd></dd></dl>

<p>Get object from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object id to get.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.get_objects">
<span class="sig-name descname"><span class="pre">get_objects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.get_objects" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd></dd></dl>

<p>Get multiple objects from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_ids</strong> – List[ObjectID]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_id</span></span><a class="headerlink" href="#vineyard.IPCClient.instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>The instance id of the connected vineyard server.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.ipc_socket">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ipc_socket</span></span><a class="headerlink" href="#vineyard.IPCClient.ipc_socket" title="Permalink to this definition">#</a></dt>
<dd><p>The UNIX domain socket location of connected vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.is_shared_memory">
<span class="sig-name descname"><span class="pre">is_shared_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.is_shared_memory" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_shared_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ptr</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span></dt>
<dd></dd></dl>

<p>Check if the address is on the shared memory region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – address, in int format
The given address.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.list_metadatas">
<span class="sig-name descname"><span class="pre">list_metadatas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.list_metadatas" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">list_metadatas(pattern:</span> <span class="pre">str,</span> <span class="pre">regex:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">limit:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">nobuffer:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False)</span> <span class="pre">-&gt;</span> <span class="pre">List[Object]</span></span></dt>
<dd></dd></dl>

<p>List all objects in current vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – str
The pattern string that will be matched against the object’s typename.</p></li>
<li><p><strong>regex</strong> – bool
Whether the pattern is a regex expression, otherwise the pattern will be
used as wildcard pattern. Default value is False.</p></li>
<li><p><strong>limit</strong> – int
The limit to list. Default value is 5.</p></li>
<li><p><strong>nobuffer</strong> – bool
Whether to fill the buffers in returned object metadatas. Default value
is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[ObjectMeta]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.list_objects">
<span class="sig-name descname"><span class="pre">list_objects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.list_objects" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">list_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">List[Object]</span></span></dt>
<dd></dd></dl>

<p>List all objects in current vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – str
The pattern string that will be matched against the object’s typename.</p></li>
<li><p><strong>regex</strong> – bool
Whether the pattern is a regex expression, otherwise the pattern will be used
as wildcard pattern. Default value is False.</p></li>
<li><p><strong>limit</strong> – int
The limit to list. Default value is 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.meta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#vineyard.IPCClient.meta" title="Permalink to this definition">#</a></dt>
<dd><p>The metadata information of the vineyard server. The value is a  nested dict, the
first-level key is the instance id, and the second-level key is the cluster metadata
fields.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">meta</span>
<span class="go">{</span>
<span class="go">    14: {</span>
<span class="go">        &#39;hostid&#39;: &#39;54058007061210&#39;,</span>
<span class="go">        &#39;hostname&#39;: &#39;127.0.0.1&#39;,</span>
<span class="go">        &#39;timestamp&#39;: &#39;6882550126788354072&#39;</span>
<span class="go">    },</span>
<span class="go">    15: {</span>
<span class="go">        &#39;hostid&#39;: &#39;48843417291806&#39;,</span>
<span class="go">        &#39;hostname&#39;: &#39;127.0.0.1&#39;,</span>
<span class="go">        &#39;timestamp&#39;: &#39;6882568290204737414&#39;</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.persist">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.persist" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the object of the given object id. After persisting, the object will be visible
by clients that connect to other vineyard server instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object that will be persist.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_meta</strong> – ObjectMeta
The object that will be persist.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – Object
The object that will be persist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.put" title="Permalink to this definition">#</a></dt>
<dd><p>Put python value to vineyard.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span>
<span class="go">00002ec13bc81226</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – IPCClient
The vineyard client to use.</p></li>
<li><p><strong>value</strong> – The python value that will be put to vineyard. Supported python value
types are decided by modules that registered to vineyard. By default,
python value can be put to vineyard after serialized as a bytes buffer
using pickle.</p></li>
<li><p><strong>builder</strong> – When putting python value to vineyard, an optional <em>builder</em> can be
specified to tell vineyard how to construct the corresponding vineyard
<a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>. If not specified, the default builder context will be
used to select a proper builder.</p></li>
<li><p><strong>kw</strong> – User-specific argument that will be passed to the builder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result object id will be returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.put_name">
<span class="sig-name descname"><span class="pre">put_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.put_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">put_name(object:</span> <span class="pre">ObjectID</span> <span class="pre">or</span> <span class="pre">ObjectMeta</span> <span class="pre">or</span> <span class="pre">Object,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Associate the given object id with a name. An <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a> can be associated with
more than one names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID</p></li>
<li><p><strong>name</strong> – str</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.reset" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Alias of <code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientBase.clear()</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.rpc_endpoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rpc_endpoint</span></span><a class="headerlink" href="#vineyard.IPCClient.rpc_endpoint" title="Permalink to this definition">#</a></dt>
<dd><p>The RPC endpoint of the connected vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.shallow_copy">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.shallow_copy" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Create a shallow copy of the given vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The vineyard object that is requested to be shallow-copied.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object id of newly shallow-copied vineyard object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Create a shallow copy of the given vineyard object, with extra metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID
The vineyard object that is requested to be shallow-copied.</p></li>
<li><p><strong>extra_metadata</strong> – dict
Extra metadata to apply to the newly created object. The fields of extra
metadata must be primitive types, e.g., string, number, and cannot be
array or dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object id of newly shallow-copied vineyard object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.status">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#vineyard.IPCClient.status" title="Permalink to this definition">#</a></dt>
<dd><p>The status the of connected vineyard server, returns a <a class="reference internal" href="#vineyard.InstanceStatus" title="vineyard.InstanceStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceStatus</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>InstanceStatus</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.IPCClient.sync_meta">
<span class="sig-name descname"><span class="pre">sync_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.IPCClient.sync_meta" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sync_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Synchronize remote metadata to local immediately.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.IPCClient.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#vineyard.IPCClient.version" title="Permalink to this definition">#</a></dt>
<dd><p>The version number string of connected vineyard server, in the format of semver:
<code class="code docutils literal notranslate"><span class="pre">MAJOR.MINOR.PATCH</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.RPCClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">RPCClient</span></span><a class="headerlink" href="#vineyard.RPCClient" title="Permalink to this definition">#</a></dt>
<dd><p>RPC client that connects to vineyard instance’s RPC endpoints.</p>
<p>The RPC client can only access the metadata of objects, any access to the blob payload
will trigger a <code class="code docutils literal notranslate"><span class="pre">RuntimeError</span></code> exception.</p>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.clear" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Drop all objects that visible to the current instance in the vineyard cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.close" title="Permalink to this definition">#</a></dt>
<dd><p>Close the client.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.connected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connected</span></span><a class="headerlink" href="#vineyard.RPCClient.connected" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the client instance has been connected to the vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.create_metadata" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Create metadata in vineyardd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> – ObjectMeta
The metadata that will be created on vineyardd.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result created metadata.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">InstanceID</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Create metadata in vineyardd with a specified instance id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> – ObjectMeta
The metadata that will be created on vineyardd.</p></li>
<li><p><strong>instance_id</strong> – InstanceID
The instance to place the object metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result created metadata.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.create_remote_blob">
<span class="sig-name descname"><span class="pre">create_remote_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.create_remote_blob" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_remote_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.RemoteBlobBuilder" title="vineyard.RemoteBlobBuilder"><span class="pre">RemoteBlobBuilder</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Put the remote blob to connected remote vineyard instance. The <code class="code docutils literal notranslate"><span class="pre">blob_builder</span></code>
is assumed to be ready and modification on the <code class="code docutils literal notranslate"><span class="pre">blob_builder</span></code> after creation
won’t take effect.</p>
<p>Note that creating remote blobs requires network transfer and may yields significate
overhead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vineyard_rpc_client</span> <span class="o">=</span> <span class="n">vineyard</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">*</span><span class="n">vineyard_endpoint</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">))</span>

<span class="n">buffer_writer</span> <span class="o">=</span> <span class="n">RemoteBlobBuilder</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
<span class="n">buffer_writer</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
<span class="n">blob_id</span> <span class="o">=</span> <span class="n">vineyard_rpc_client</span><span class="o">.</span><span class="n">create_remote_blob</span><span class="p">(</span><span class="n">buffer_writer</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>blob_builder</strong> – RemoteBlobBuilder
The remote blob to create.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ObjectID</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>RPCClient.get_remote_blob
RPCClient.get_remote_blobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.delete" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete(object_id:</span> <span class="pre">ObjectID</span> <span class="pre">or</span> <span class="pre">List[ObjectID],</span> <span class="pre">force:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">deep:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID or list of ObjectID
Objects that will be deleted. The <code class="code docutils literal notranslate"><span class="pre">object_id</span></code> can be a single
<a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a>, or a list of <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a>.</p></li>
<li><p><strong>force</strong> – bool
Forcedly delete an object means the member will be recursively deleted
even if the member object is also referred by others. The default value
is <code class="code docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>deep</strong> – <p>bool
Deeply delete an object means we will deleting the members recursively.
The default value is <code class="code docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Note that when deleting objects which have <em>direct</em> blob members, the
processing on those blobs yields a “deep” behavior.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">true</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_meta</strong> – The corresponding object meta to delete.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">true</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Delete the specific vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – The corresponding object meta to delete.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.drop_name">
<span class="sig-name descname"><span class="pre">drop_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.drop_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">drop_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Remove the association of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – str
The name that will be removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.exists" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span></dt>
<dd></dd></dl>

<p>Whether the given object exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object id to check if exists.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> when the specified object exists.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get" title="Permalink to this definition">#</a></dt>
<dd><p>Get vineyard object as python value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span> <span class="o">=</span> <span class="n">vineyard</span><span class="o">.</span><span class="n">ObjectID</span><span class="p">(</span><span class="s1">&#39;00002ec13bc81226&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arr_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span>
<span class="go">array([0, 1, 2, 3, 4, 5, 6, 7])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – IPCClient or RPCClient
The vineyard client to use.</p></li>
<li><p><strong>object_id</strong> – ObjectID
The object id that will be obtained from vineyard.</p></li>
<li><p><strong>resolver</strong> – When retrieving vineyard object, an optional <em>resolver</em> can be specified.
If no resolver given, the default resolver context will be used.</p></li>
<li><p><strong>kw</strong> – User-specific argument that will be passed to the builder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A python object that return by the resolver, by resolving an vineyard object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_meta">
<span class="sig-name descname"><span class="pre">get_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_meta" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></span></dt>
<dd></dd></dl>

<p>Get object metadata from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object id to get.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ObjectMeta</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_metas">
<span class="sig-name descname"><span class="pre">get_metas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_metas" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_metas(object_ids:</span> <span class="pre">List[ObjectID]</span> <span class="pre">-&gt;</span> <span class="pre">List[ObjectMeta]</span></span></dt>
<dd></dd></dl>

<p>Get metadatas of multiple objects from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_ids</strong> – List[ObjectID]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[ObjectMeta]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_name">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Get the associated object id of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – str
The name that will be queried.</p></li>
<li><p><strong>wait</strong> – bool
Whether to wait util the name appears, if wait, the request will be blocked
until the name been registered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The associated object id with the name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_object">
<span class="sig-name descname"><span class="pre">get_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_object" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></span></dt>
<dd></dd></dl>

<p>Get object from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object id to get.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_objects">
<span class="sig-name descname"><span class="pre">get_objects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_objects" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd></dd></dl>

<p>Get multiple objects from vineyard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_ids</strong> – List[ObjectID]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_remote_blob">
<span class="sig-name descname"><span class="pre">get_remote_blob</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_remote_blob" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_remote_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.RemoteBlob" title="vineyard.RemoteBlob"><span class="pre">RemoteBlob</span></a></span></span></dt>
<dd></dd></dl>

<p>Getting a remote blob from vineyard using the given object ID.</p>
<p>Note that getting remote blobs requires network transfer and may yields significate
overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID
The remote blob to get.</p></li>
<li><p><strong>unsafe</strong> – bool
<code class="code docutils literal notranslate"><span class="pre">unsafe</span></code> means getting the blob even the blob is not sealed yet.
Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RemoteBlob</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.get_blob
IPCClient.get_blobs
RPCClient.get_remote_blobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.get_remote_blobs">
<span class="sig-name descname"><span class="pre">get_remote_blobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.get_remote_blobs" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_remote_blobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">false</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">List[RemoteBlob]</span></span></dt>
<dd></dd></dl>

<p>Getting remote blobs from vineyard using the given object IDs.</p>
<p>Note that getting remote blobs requires network transfer and may yields significate
overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_ids</strong> – List[ObjectID]
The remote blobs to get.</p></li>
<li><p><strong>unsafe</strong> – bool
<code class="code docutils literal notranslate"><span class="pre">unsafe</span></code> means getting the blob even the blob is not sealed yet.
Default is <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[RemoteBlob]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.get_blob
IPCClient.get_blobs
RPCClient.get_remote_blob</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_id</span></span><a class="headerlink" href="#vineyard.RPCClient.instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>The instance id of the connected vineyard server.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.ipc_socket">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ipc_socket</span></span><a class="headerlink" href="#vineyard.RPCClient.ipc_socket" title="Permalink to this definition">#</a></dt>
<dd><p>The UNIX domain socket location of connected vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.list_metadatas">
<span class="sig-name descname"><span class="pre">list_metadatas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.list_metadatas" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">list_metadatas(pattern:</span> <span class="pre">str,</span> <span class="pre">regex:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">limit:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">nobuffer:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False)</span> <span class="pre">-&gt;</span> <span class="pre">List[Object]</span></span></dt>
<dd></dd></dl>

<p>List all objects in current vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – str
The pattern string that will be matched against the object’s typename.</p></li>
<li><p><strong>regex</strong> – bool
Whether the pattern is a regex expression, otherwise the pattern will be
used as wildcard pattern. Default value is False.</p></li>
<li><p><strong>limit</strong> – int
The limit to list. Default value is 5.</p></li>
<li><p><strong>nobuffer</strong> – bool
Whether to fill the buffers in returned object metadatas. Default value
is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[ObjectMeta]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.list_objects">
<span class="sig-name descname"><span class="pre">list_objects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.list_objects" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">list_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">-&gt;</span> <span class="pre">List[Object]</span></span></dt>
<dd></dd></dl>

<p>List all objects in current vineyard server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – str
The pattern string that will be matched against the object’s typename.</p></li>
<li><p><strong>regex</strong> – bool
Whether the pattern is a regex expression, otherwise the pattern will be
used as wildcard pattern. Default value is False.</p></li>
<li><p><strong>limit</strong> – int
The limit to list. Default value is 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.meta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#vineyard.RPCClient.meta" title="Permalink to this definition">#</a></dt>
<dd><p>The metadata information of the vineyard server. The value is a  nested dict, the
first-level key is the instance id, and the second-level key is the cluster metadata
fields.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">meta</span>
<span class="go">{</span>
<span class="go">    14: {</span>
<span class="go">        &#39;hostid&#39;: &#39;54058007061210&#39;,</span>
<span class="go">        &#39;hostname&#39;: &#39;127.0.0.1&#39;,</span>
<span class="go">        &#39;timestamp&#39;: &#39;6882550126788354072&#39;</span>
<span class="go">    },</span>
<span class="go">    15: {</span>
<span class="go">        &#39;hostid&#39;: &#39;48843417291806&#39;,</span>
<span class="go">        &#39;hostname&#39;: &#39;127.0.0.1&#39;,</span>
<span class="go">        &#39;timestamp&#39;: &#39;6882568290204737414&#39;</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.persist">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.persist" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the object of the given object id. After persisting, the object will be visible
by clients that connect to other vineyard server instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The object that will be persist.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_meta</strong> – ObjectMeta
The object that will be persist.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><span class="pre">Object</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Persist the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object</strong> – Object
The object that will be persist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.put" title="Permalink to this definition">#</a></dt>
<dd><p>Put python value to vineyard.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_id</span>
<span class="go">00002ec13bc81226</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – IPCClient
The vineyard client to use.</p></li>
<li><p><strong>value</strong> – The python value that will be put to vineyard. Supported python value
types are decided by modules that registered to vineyard. By default,
python value can be put to vineyard after serialized as a bytes buffer
using pickle.</p></li>
<li><p><strong>builder</strong> – When putting python value to vineyard, an optional <em>builder</em> can be
specified to tell vineyard how to construct the corresponding vineyard
<a class="reference internal" href="#vineyard.Object" title="vineyard.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>. If not specified, the default builder context will be
used to select a proper builder.</p></li>
<li><p><strong>kw</strong> – User-specific argument that will be passed to the builder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result object id will be returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.put_name">
<span class="sig-name descname"><span class="pre">put_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.put_name" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">put_name(object:</span> <span class="pre">ObjectID</span> <span class="pre">or</span> <span class="pre">ObjectMeta</span> <span class="pre">or</span> <span class="pre">Object,</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">or</span> <span class="pre">ObjectName)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<p>Associate the given object id with a name. An <a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectID</span></code></a> can be associated with
more than one names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID</p></li>
<li><p><strong>name</strong> – str</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.remote_instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remote_instance_id</span></span><a class="headerlink" href="#vineyard.RPCClient.remote_instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>The instance id of the connected remote vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.reset" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Alias of <code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientBase.clear()</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.rpc_endpoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rpc_endpoint</span></span><a class="headerlink" href="#vineyard.RPCClient.rpc_endpoint" title="Permalink to this definition">#</a></dt>
<dd><p>The RPC endpoint of the connected vineyard server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.shallow_copy">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.shallow_copy" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Create a shallow copy of the given vineyard object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_id</strong> – ObjectID
The vineyard object that is requested to be shallow-copied.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object id of newly shallow-copied vineyard object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">shallow_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID"><span class="pre">ObjectID</span></a></span></span></dt>
<dd></dd></dl>

<p>Create a shallow copy of the given vineyard object, with extra metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_id</strong> – ObjectID
The vineyard object that is requested to be shallow-copied.</p></li>
<li><p><strong>extra_metadata</strong> – dict
Extra metadata to apply to the newly created object. The fields of extra
metadata must be primitive types, e.g., string, number, and cannot be
array or dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object id of newly shallow-copied vineyard object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#vineyard.ObjectID" title="vineyard.ObjectID">ObjectID</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.status">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#vineyard.RPCClient.status" title="Permalink to this definition">#</a></dt>
<dd><p>The status the of connected vineyard server, returns a <a class="reference internal" href="#vineyard.InstanceStatus" title="vineyard.InstanceStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceStatus</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>InstanceStatus</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RPCClient.sync_meta">
<span class="sig-name descname"><span class="pre">sync_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RPCClient.sync_meta" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">sync_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd></dd></dl>

<p>Synchronize remote metadata to local immediately.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RPCClient.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#vineyard.RPCClient.version" title="Permalink to this definition">#</a></dt>
<dd><p>The version number string of connected vineyard server, in the format of semver:
<code class="code docutils literal notranslate"><span class="pre">MAJOR.MINOR.PATCH</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="vineyard-cluster">
<h2>Vineyard cluster<a class="headerlink" href="#vineyard-cluster" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.InstanceStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">InstanceStatus</span></span><a class="headerlink" href="#vineyard.InstanceStatus" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.InstanceStatus" title="vineyard.InstanceStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceStatus</span></code></a> represents the status of connected vineyard instance, including
the instance identity, memory statistics and workloads on this instance.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">status</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
<span class="go">InstanceStatus:</span>
<span class="go">    instance_id: 5</span>
<span class="go">    deployment: local</span>
<span class="go">    memory_usage: 360</span>
<span class="go">    memory_limit: 268435456</span>
<span class="go">    deferred_requests: 0</span>
<span class="go">    ipc_connections: 1</span>
<span class="go">    rpc_connections: 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">instance_id</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">deployment</span>
<span class="go">&#39;local&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">memory_usage</span>
<span class="go">360</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">memory_limit</span>
<span class="go">268435456</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">deferred_requests</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">ipc_connections</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="o">.</span><span class="n">rpc_connections</span>
<span class="go">0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.InstanceStatus.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.InstanceStatus.__repr__" title="Permalink to this definition">#</a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.InstanceStatus.__str__" title="Permalink to this definition">#</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.deferred_requests">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deferred_requests</span></span><a class="headerlink" href="#vineyard.InstanceStatus.deferred_requests" title="Permalink to this definition">#</a></dt>
<dd><p>Report number of waiting requests of current vineyardd instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.deployment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deployment</span></span><a class="headerlink" href="#vineyard.InstanceStatus.deployment" title="Permalink to this definition">#</a></dt>
<dd><p>The deployment mode of the connected vineyardd cluster, can be <code class="code docutils literal notranslate"><span class="pre">&quot;local&quot;</span></code> and
<code class="code docutils literal notranslate"><span class="pre">&quot;distributed&quot;</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_id</span></span><a class="headerlink" href="#vineyard.InstanceStatus.instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>Return the instance id of vineyardd that the client is connected to.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.ipc_connections">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ipc_connections</span></span><a class="headerlink" href="#vineyard.InstanceStatus.ipc_connections" title="Permalink to this definition">#</a></dt>
<dd><p>Report number of alive IPC connections on the current vineyardd instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.memory_limit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_limit</span></span><a class="headerlink" href="#vineyard.InstanceStatus.memory_limit" title="Permalink to this definition">#</a></dt>
<dd><p>Report memory limit (in bytes) of current vineyardd instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.memory_usage">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">memory_usage</span></span><a class="headerlink" href="#vineyard.InstanceStatus.memory_usage" title="Permalink to this definition">#</a></dt>
<dd><p>Report memory usage (in bytes) of current vineyardd instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.InstanceStatus.rpc_connections">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rpc_connections</span></span><a class="headerlink" href="#vineyard.InstanceStatus.rpc_connections" title="Permalink to this definition">#</a></dt>
<dd><p>Report number of alive RPC connections on the current vineyardd instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="blob">
<h2>Blob<a class="headerlink" href="#blob" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.Blob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">Blob</span></span><a class="headerlink" href="#vineyard.Blob" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> in vineyard is a consecutive readonly shared memory.</p>
<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Blob.address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="#vineyard.Blob.address" title="Permalink to this definition">#</a></dt>
<dd><p>The memory address value of this blob.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Blob.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><a class="headerlink" href="#vineyard.Blob.buffer" title="Permalink to this definition">#</a></dt>
<dd><p>The readonly buffer behind this blob. The result buffer has type
<code class="code docutils literal notranslate"><span class="pre">pyarrow::Buffer</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.Blob.empty">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.Blob.empty" title="Permalink to this definition">#</a></dt>
<dd><p>Create an empty blob (with size as <code class="code docutils literal notranslate"><span class="pre">0</span></code>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Blob.is_empty">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_empty</span></span><a class="headerlink" href="#vineyard.Blob.is_empty" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the blob is an empty blob, i.e., the size of this blob is 0.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.Blob.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#vineyard.Blob.size" title="Permalink to this definition">#</a></dt>
<dd><p>Size of the blob.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.BlobBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">BlobBuilder</span></span><a class="headerlink" href="#vineyard.BlobBuilder" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.BlobBuilder" title="vineyard.BlobBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobBuilder</span></code></a> is the builder for creating a finally immutable blob in
vineyard server.</p>
<p>A <a class="reference internal" href="#vineyard.BlobBuilder" title="vineyard.BlobBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobBuilder</span></code></a> can only be explicitly created using the
<a class="reference internal" href="#vineyard.IPCClient.create_blob" title="vineyard.IPCClient.create_blob"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IPCClient.create_blob()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.create_blob
IPCClient.create_empty_blob</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.abort">
<span class="sig-name descname"><span class="pre">abort</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.BlobBuilder.abort" title="Permalink to this definition">#</a></dt>
<dd><p>Abort the blob builder if it is not sealed yet.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="#vineyard.BlobBuilder.address" title="Permalink to this definition">#</a></dt>
<dd><p>The memory address value of this blob builder.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><a class="headerlink" href="#vineyard.BlobBuilder.buffer" title="Permalink to this definition">#</a></dt>
<dd><p>The writeable buffer behind this blob builder. The result buffer has type
<code class="code docutils literal notranslate"><span class="pre">pyarrow::Buffer</span></code>, and it is a mutable one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.BlobBuilder.copy" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<p>Copy the given address to the given offset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#vineyard.BlobBuilder.id" title="Permalink to this definition">#</a></dt>
<dd><p>ObjectID of this blob builder.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.BlobBuilder.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#vineyard.BlobBuilder.size" title="Permalink to this definition">#</a></dt>
<dd><p>Size of this blob builder.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.RemoteBlob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">RemoteBlob</span></span><a class="headerlink" href="#vineyard.RemoteBlob" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.RemoteBlob" title="vineyard.RemoteBlob"><code class="xref py py-class docutils literal notranslate"><span class="pre">RemoteBlob</span></code></a> is a holder for <a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> in cases like the <a class="reference internal" href="#vineyard.Blob" title="vineyard.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>
doesn’t exist in the local vineyardd instance but the client still want th access
the data with a tolerable network-transfer overhead.</p>
<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlob.address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="#vineyard.RemoteBlob.address" title="Permalink to this definition">#</a></dt>
<dd><p>The memory address value of this blob.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlob.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><a class="headerlink" href="#vineyard.RemoteBlob.buffer" title="Permalink to this definition">#</a></dt>
<dd><p>The readonly buffer behind this blob. The result buffer has type
<code class="code docutils literal notranslate"><span class="pre">pyarrow::Buffer</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlob.instance_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_id</span></span><a class="headerlink" href="#vineyard.RemoteBlob.instance_id" title="Permalink to this definition">#</a></dt>
<dd><p>The instance ID where the blob is actually placed at.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlob.is_empty">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_empty</span></span><a class="headerlink" href="#vineyard.RemoteBlob.is_empty" title="Permalink to this definition">#</a></dt>
<dd><p>Whether the blob is an empty blob, i.e., the size of this blob is 0.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlob.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#vineyard.RemoteBlob.size" title="Permalink to this definition">#</a></dt>
<dd><p>Object ID of the remote blob.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">RemoteBlobBuilder</span></span><a class="headerlink" href="#vineyard.RemoteBlobBuilder" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#vineyard.RemoteBlobBuilder" title="vineyard.RemoteBlobBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">RemoteBlobBuilder</span></code></a> is the builder for creating a finally immutable blob in
vineyard server over a RPC client.</p>
<p>A <a class="reference internal" href="#vineyard.RemoteBlobBuilder" title="vineyard.RemoteBlobBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">RemoteBlobBuilder</span></code></a> can only be explicitly initialized using
<a class="reference internal" href="#vineyard.RemoteBlobBuilder" title="vineyard.RemoteBlobBuilder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RemoteBlobBuilder()</span></code></a>, then be filled the content and finally be sent to remote
vineyard instance over the network.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>IPCClient.create_blob
IPCClient.create_empty_blob</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder.abort">
<span class="sig-name descname"><span class="pre">abort</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RemoteBlobBuilder.abort" title="Permalink to this definition">#</a></dt>
<dd><p>Abort the blob builder if it is not sealed yet.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder.address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="#vineyard.RemoteBlobBuilder.address" title="Permalink to this definition">#</a></dt>
<dd><p>The memory address value of this blob builder.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder.buffer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buffer</span></span><a class="headerlink" href="#vineyard.RemoteBlobBuilder.buffer" title="Permalink to this definition">#</a></dt>
<dd><p>The writeable buffer behind this blob builder. The result buffer has type
<code class="code docutils literal notranslate"><span class="pre">pyarrow::Buffer</span></code>, and it is a mutable one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vineyard.RemoteBlobBuilder.copy" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<p>Copy the given address to the given offset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.RemoteBlobBuilder.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#vineyard.RemoteBlobBuilder.size" title="Permalink to this definition">#</a></dt>
<dd><p>Size of this blob builder.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="resolvers-and-builders">
<h2>Resolvers and builders<a class="headerlink" href="#resolvers-and-builders" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.core.resolver.ResolverContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.core.resolver.</span></span><span class="sig-name descname"><span class="pre">ResolverContext</span></span><a class="reference internal" href="../_modules/vineyard/core/resolver.html#ResolverContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.resolver.ResolverContext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.resolver.get_current_resolvers">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.resolver.</span></span><span class="sig-name descname"><span class="pre">get_current_resolvers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/resolver.html#get_current_resolvers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.resolver.get_current_resolvers" title="Permalink to this definition">#</a></dt>
<dd><p>Obtain current resolver context.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.resolver.resolver_context">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.resolver.</span></span><span class="sig-name descname"><span class="pre">resolver_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolvers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/resolver.html#resolver_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.resolver.resolver_context" title="Permalink to this definition">#</a></dt>
<dd><p>Open a new context for register resolvers, without populting outside
the global environment.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">resolver_context</span></code> can be useful when users have more than
more resolver for a certain type, e.g., the <code class="code docutils literal notranslate"><span class="pre">vineyard::Tensor</span></code>
object can be resolved as <code class="code docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <code class="code docutils literal notranslate"><span class="pre">xgboost::DMatrix</span></code>.</p>
<p>We could have</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">numpy_resolver</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">default_resolver_context</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;vineyard::Tensor&#39;</span><span class="p">,</span> <span class="n">numpy_resolver</span><span class="p">)</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">xgboost_resolver</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">default_resolver_context</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;vineyard::Tensor&#39;</span><span class="p">,</span> <span class="n">xgboost_resolver</span><span class="p">)</span>
</pre></div>
</div>
<p>Obviously there’s a conflict, and the stackable <code class="code docutils literal notranslate"><span class="pre">resolver_context</span></code> could
help there,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">resolver_context</span><span class="p">({</span><span class="s1">&#39;vineyard::Tensor&#39;</span><span class="p">,</span> <span class="n">xgboost_resolver</span><span class="p">}):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Assuming the default context resolves <code class="code docutils literal notranslate"><span class="pre">vineyard::Tensor</span></code> to
<code class="code docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, inside the <code class="code docutils literal notranslate"><span class="pre">with</span> <span class="pre">resolver_context</span></code> the
<code class="code docutils literal notranslate"><span class="pre">vineyard::Tensor</span></code> will be resolved to <code class="code docutils literal notranslate"><span class="pre">xgboost::DMatrix</span></code>,
and after exiting the context the global environment will be restored
back as default.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">with</span> <span class="pre">resolver_context</span></code> is nestable as well.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>builder_context
driver_context</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.core.builder.BuilderContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.core.builder.</span></span><span class="sig-name descname"><span class="pre">BuilderContext</span></span><a class="reference internal" href="../_modules/vineyard/core/builder.html#BuilderContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.builder.BuilderContext" title="Permalink to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="vineyard.core.builder.BuilderContext.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/builder.html#BuilderContext.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.builder.BuilderContext.register" title="Permalink to this definition">#</a></dt>
<dd><p>Register a Python type to the builder context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type_id</strong> (<em>Python type</em>) – Like <cite>int</cite>, or <cite>numpy.ndarray</cite></p></li>
<li><p><strong>builder</strong> (<em>callable</em><em>, </em><em>e.g.</em><em>, </em><em>a method</em><em>, </em><em>callable object</em>) – A builder translates a python object to vineyard, it accepts a Python
value as parameter, and returns an vineyard object as result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.core.builder.BuilderContext.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/builder.html#BuilderContext.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.builder.BuilderContext.run" title="Permalink to this definition">#</a></dt>
<dd><p>Follows the MRO to find the proper builder for given python value.</p>
<p>Here “Follows the MRO” implies:</p>
<ul class="simple">
<li><p>If the type of python value has been found in the context, the registered
builder will be used.</p></li>
<li><p>If not, it follows the MRO chain from down to top to find a registered
Python type and used the associated builder.</p></li>
<li><p>When the traversal reaches the <code class="code docutils literal notranslate"><span class="pre">object</span></code> type, since there’s a default
builder that serialization the python value, the parameter will be serialized
and be put into a blob.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.builder.get_current_builders">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.builder.</span></span><span class="sig-name descname"><span class="pre">get_current_builders</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/builder.html#get_current_builders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.builder.get_current_builders" title="Permalink to this definition">#</a></dt>
<dd><p>Obtain the current builder context.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.builder.builder_context">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.builder.</span></span><span class="sig-name descname"><span class="pre">builder_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/builder.html#builder_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.builder.builder_context" title="Permalink to this definition">#</a></dt>
<dd><p>Open a new context for register builders, without populting outside global
environment.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>resolver_context
driver_context</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.core.driver.DriverContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.core.driver.</span></span><span class="sig-name descname"><span class="pre">DriverContext</span></span><a class="reference internal" href="../_modules/vineyard/core/driver.html#DriverContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.driver.DriverContext" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.driver.get_current_drivers">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.driver.</span></span><span class="sig-name descname"><span class="pre">get_current_drivers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/driver.html#get_current_drivers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.driver.get_current_drivers" title="Permalink to this definition">#</a></dt>
<dd><p>Obtain current driver context.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.core.driver.driver_context">
<span class="sig-prename descclassname"><span class="pre">vineyard.core.driver.</span></span><span class="sig-name descname"><span class="pre">driver_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">drivers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/core/driver.html#driver_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.core.driver.driver_context" title="Permalink to this definition">#</a></dt>
<dd><p>Open a new context for register drivers, without populting outside global
environment.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>builder_context
resolver_context</p>
</div>
</dd></dl>

</div>
<div class="section" id="shared-memory">
<span id="id1"></span><h2>Shared memory<a class="headerlink" href="#shared-memory" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.shared_memory.</span></span><span class="sig-name descname"><span class="pre">SharedMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vineyard_client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/shared_memory/shared_memory.html#SharedMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shared_memory.SharedMemory" title="Permalink to this definition">#</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory.buf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buf</span></span><a class="headerlink" href="#vineyard.shared_memory.SharedMemory.buf" title="Permalink to this definition">#</a></dt>
<dd><p>A memoryview of contents of the shared memory block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory.freeze">
<span class="sig-name descname"><span class="pre">freeze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/shared_memory/shared_memory.html#SharedMemory.freeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shared_memory.SharedMemory.freeze" title="Permalink to this definition">#</a></dt>
<dd><p>Seal the shared memory to make it visible for other processes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#vineyard.shared_memory.SharedMemory.name" title="Permalink to this definition">#</a></dt>
<dd><p>Unique name that identifies the shared memory block.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#vineyard.shared_memory.SharedMemory.size" title="Permalink to this definition">#</a></dt>
<dd><p>Size in bytes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vineyard.shared_memory.SharedMemory.unlink">
<span class="sig-name descname"><span class="pre">unlink</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/shared_memory/shared_memory.html#SharedMemory.unlink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shared_memory.SharedMemory.unlink" title="Permalink to this definition">#</a></dt>
<dd><p>Requests that the underlying shared memory block be destroyed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.shared_memory.ShareableList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.shared_memory.</span></span><span class="sig-name descname"><span class="pre">ShareableList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vineyard_client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/shared_memory/shared_memory.html#ShareableList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shared_memory.ShareableList" title="Permalink to this definition">#</a></dt>
<dd><p>Pattern for a mutable list-like object shareable via a shared
memory block.  It differs from the built-in list type in that these
lists can not change their overall length (i.e. no append, insert,
etc.)</p>
<p>Because values are packed into a memoryview as bytes, the struct
packing format for any storable value must require no more than 8
characters to describe its format.</p>
<p>The ShareableList in vineyard differs slightly with its equivalent
in the multiprocessing.shared_memory.ShareableList, as it becomes
immutable after obtaining from the vineyard backend.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">multiprocessing.shared_memory.ShareableList</span></code></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="vineyard.shared_memory.ShareableList.freeze">
<span class="sig-name descname"><span class="pre">freeze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/shared_memory/shared_memory.html#ShareableList.freeze"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shared_memory.ShareableList.freeze" title="Permalink to this definition">#</a></dt>
<dd><p>Make the shareable list immutable and visible for other vineyard clients.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="deployment">
<span id="vineyard-python-deployment-api"></span><h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vineyard.init">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/local.html#init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.init" title="Permalink to this definition">#</a></dt>
<dd><p>Launching a local vineyardd instance and get a client as easy as possible</p>
<p>In a clean environment, simply use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vineyard</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</pre></div>
</div>
<p>It will launch a local vineyardd and return a connected client to the
vineyardd.</p>
<p>It will also setup the environment variable <code class="code docutils literal notranslate"><span class="pre">VINEYARD_IPC_SOCKET</span></code>.</p>
<p>For the case to establish a local vineyard cluster consists of multiple
vineyardd instances, using the <code class="code docutils literal notranslate"><span class="pre">num_instances</span></code> parameter:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client1</span><span class="p">,</span> <span class="n">client2</span><span class="p">,</span> <span class="n">client3</span> <span class="o">=</span> <span class="n">vineyard</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">num_instances</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, three vineyardd instances will be launched.</p>
<p>The init method can only be called once in a process, to get the established
sockets or clients later in the process, use <code class="code docutils literal notranslate"><span class="pre">get_current_socket</span></code> or
<code class="code docutils literal notranslate"><span class="pre">get_current_client</span></code> respectively.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.shutdown">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/local.html#shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.shutdown" title="Permalink to this definition">#</a></dt>
<dd><p>Shutdown the vineyardd instances launched by previous <code class="code docutils literal notranslate"><span class="pre">vineyard.init()</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.get_current_client">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">get_current_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/local.html#get_current_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.get_current_client" title="Permalink to this definition">#</a></dt>
<dd><p>Get current vineyard IPC clients established by <code class="code docutils literal notranslate"><span class="pre">vineyard.init()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if vineyard is not initialized.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.get_current_socket">
<span class="sig-prename descclassname"><span class="pre">vineyard.</span></span><span class="sig-name descname"><span class="pre">get_current_socket</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/local.html#get_current_socket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.get_current_socket" title="Permalink to this definition">#</a></dt>
<dd><p>Get current vineyard UNIX-domain socket established by <code class="code docutils literal notranslate"><span class="pre">vineyard.init()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if vineyard is not initialized.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.deploy.local.start_vineyardd">
<span class="sig-prename descclassname"><span class="pre">vineyard.deploy.local.</span></span><span class="sig-name descname"><span class="pre">start_vineyardd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">etcd_endpoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vineyardd_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'256M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc_socket_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/local.html#start_vineyardd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.deploy.local.start_vineyardd" title="Permalink to this definition">#</a></dt>
<dd><p>Launch a local vineyard cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>etcd_endpoint</strong> – str
Launching vineyard using specified etcd endpoints. If not specified,
vineyard will launch its own etcd instance.</p></li>
<li><p><strong>etcd_prefix</strong> – str
Specify a common prefix to establish a local vineyard cluster.</p></li>
<li><p><strong>vineyardd_path</strong> – str
Location of vineyard server program. If not specified, vineyard will
use its own bundled vineyardd binary.</p></li>
<li><p><strong>size</strong> – <p>int
The memory size limit for vineyard’s shared memory. The memory size
can be a plain integer or as a fixed-point number using one of these
suffixes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K</span><span class="o">.</span>
</pre></div>
</div>
<p>You can also use the power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki.</p>
<p>For example, the following represent roughly the same value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">128974848</span><span class="p">,</span> <span class="mi">129</span><span class="n">k</span><span class="p">,</span> <span class="mi">129</span><span class="n">M</span><span class="p">,</span> <span class="mi">123</span><span class="n">Mi</span><span class="p">,</span> <span class="mi">1</span><span class="n">G</span><span class="p">,</span> <span class="mi">10</span><span class="n">Gi</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
</p></li>
<li><p><strong>socket</strong> – <p>str
The UNIX domain socket socket path that vineyard server will listen on.
Default is None.</p>
<p>When the socket parameter is None, a random path under temporary directory
will be generated and used.</p>
</p></li>
<li><p><strong>rpc_socket_port</strong> – int
The port that vineyard will use to privode RPC service.</p></li>
<li><p><strong>debug</strong> – bool
Whether print debug logs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Yields a tuple with the subprocess as the first element and the UNIX-domain
IPC socket as the second element.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(proc, socket)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.deploy.distributed.start_vineyardd">
<span class="sig-prename descclassname"><span class="pre">vineyard.deploy.distributed.</span></span><span class="sig-name descname"><span class="pre">start_vineyardd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hosts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_endpoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vineyardd_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'256M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/var/run/vineyard.sock'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc_socket_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/distributed.html#start_vineyardd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.deploy.distributed.start_vineyardd" title="Permalink to this definition">#</a></dt>
<dd><p>Launch a local vineyard cluster in a distributed fashion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hosts</strong> – list of str
A list of machines to launch vineyard server.</p></li>
<li><p><strong>etcd_endpoint</strong> – str
Launching vineyard using specified etcd endpoints. If not specified,
vineyard will launch its own etcd instance.</p></li>
<li><p><strong>vineyardd_path</strong> – str
Location of vineyard server program. If not specified, vineyard will
use its own bundled vineyardd binary.</p></li>
<li><p><strong>size</strong> – <p>int
The memory size limit for vineyard’s shared memory. The memory size
can be a plain integer or as a fixed-point number using one of these
suffixes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K</span><span class="o">.</span>
</pre></div>
</div>
<p>You can also use the power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki.</p>
<p>For example, the following represent roughly the same value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">128974848</span><span class="p">,</span> <span class="mi">129</span><span class="n">k</span><span class="p">,</span> <span class="mi">129</span><span class="n">M</span><span class="p">,</span> <span class="mi">123</span><span class="n">Mi</span><span class="p">,</span> <span class="mi">1</span><span class="n">G</span><span class="p">,</span> <span class="mi">10</span><span class="n">Gi</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
</p></li>
<li><p><strong>socket</strong> – str
The UNIX domain socket socket path that vineyard server will listen on.</p></li>
<li><p><strong>rpc_socket_port</strong> – int
The port that vineyard will use to privode RPC service.</p></li>
<li><p><strong>debug</strong> – bool
Whether print debug logs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.deploy.kubernetes.start_vineyardd">
<span class="sig-prename descclassname"><span class="pre">vineyard.deploy.kubernetes.</span></span><span class="sig-name descname"><span class="pre">start_vineyardd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vineyard'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'512Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/var/run/vineyard.sock'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc_socket_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/kubernetes.html#start_vineyardd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.deploy.kubernetes.start_vineyardd" title="Permalink to this definition">#</a></dt>
<dd><p>Launch a vineyard cluster on kubernetes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> – str
namespace in kubernetes</p></li>
<li><p><strong>size</strong> – <p>int
The memory size limit for vineyard’s shared memory. The memory size
can be a plain integer or as a fixed-point number using one of these
suffixes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K</span><span class="o">.</span>
</pre></div>
</div>
<p>You can also use the power-of-two equivalents: Ei, Pi, Ti, Gi, Mi, Ki.</p>
<p>For example, the following represent roughly the same value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">128974848</span><span class="p">,</span> <span class="mi">129</span><span class="n">k</span><span class="p">,</span> <span class="mi">129</span><span class="n">M</span><span class="p">,</span> <span class="mi">123</span><span class="n">Mi</span><span class="p">,</span> <span class="mi">1</span><span class="n">G</span><span class="p">,</span> <span class="mi">10</span><span class="n">Gi</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
</p></li>
<li><p><strong>socket</strong> – str
The UNIX domain socket socket path that vineyard server will listen on.</p></li>
<li><p><strong>rpc_socket_port</strong> – int
The port that vineyard will use to privode RPC service.</p></li>
<li><p><strong>k8s_client</strong> – kubernetes.client.api.ApiClient
A kubernetes client. If not specified, vineyard will try to resolve the
kubernetes configuration from current context.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of created kubernetes resources during the deploying process. The
resources can be later release using <a class="reference internal" href="#vineyard.deploy.kubernetes.delete_kubernetes_objects" title="vineyard.deploy.kubernetes.delete_kubernetes_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_kubernetes_objects()</span></code></a>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>vineyard.deploy.kubernetes.delete_kubernetes_objects</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.deploy.kubernetes.delete_kubernetes_objects">
<span class="sig-prename descclassname"><span class="pre">vineyard.deploy.kubernetes.</span></span><span class="sig-name descname"><span class="pre">delete_kubernetes_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/deploy/kubernetes.html#delete_kubernetes_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.deploy.kubernetes.delete_kubernetes_objects" title="Permalink to this definition">#</a></dt>
<dd><p>Delete the given kubernetes resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – List
List of Kubernetes objects</p></li>
<li><p><strong>k8s_client</strong> – The kubernetes client. If not specified, vineyard will try to resolve
the kubernetes configuration from current context.</p></li>
<li><p><strong>verbose</strong> – bool
Whether to print the deletion logs.</p></li>
<li><p><strong>wait</strong> – bool
Whether to wait for the deletion to complete.</p></li>
<li><p><strong>timeout_seconds</strong> – int
The timeout in seconds for waiting for the deletion to complete.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>vineyard.deploy.kubernetes.start_vineyardd
vineyard.deploy.kubernetes.delete_kubernetes_object</p>
</div>
</dd></dl>

</div>
<div class="section" id="i-o-drivers">
<h2>I/O Drivers<a class="headerlink" href="#i-o-drivers" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vineyard.io.open">
<span class="sig-prename descclassname"><span class="pre">vineyard.io.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/stream.html#open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.open" title="Permalink to this definition">#</a></dt>
<dd><p>Open a path as a reader or writer, depends on the parameter <code class="code docutils literal notranslate"><span class="pre">mode</span></code>.
If <code class="code docutils literal notranslate"><span class="pre">mode</span></code> is <code class="code docutils literal notranslate"><span class="pre">r</span></code>, it will open a stream for read, and open a
stream for write when <code class="code docutils literal notranslate"><span class="pre">mode</span></code> is <code class="code docutils literal notranslate"><span class="pre">w</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to open.</p></li>
<li><p><strong>mode</strong> (<em>char</em>) – Mode about how to open the path, <code class="code docutils literal notranslate"><span class="pre">r</span></code> is for read and <code class="code docutils literal notranslate"><span class="pre">w</span></code> for write.</p></li>
<li><p><strong>vineyard_ipc_socket</strong> (<em>str</em>) – Vineyard’s IPC socket location.</p></li>
<li><p><strong>vineyard_endpoint</strong> (<em>str</em>) – Vineyard’s RPC socket address.</p></li>
<li><p><strong>handlers</strong> – A dict that will be filled with a <code class="code docutils literal notranslate"><span class="pre">handler</span></code> that contains the process
handler of the underlying read/write process that can be joined using
<code class="code docutils literal notranslate"><span class="pre">join</span></code> to capture the possible errors during the I/O proceeding.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#vineyard.io.read" title="vineyard.io.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vineyard.io.read</span></code></a>, <a class="reference internal" href="#vineyard.io.write" title="vineyard.io.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vineyard.io.write</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.io.read">
<span class="sig-prename descclassname"><span class="pre">vineyard.io.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/stream.html#read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.read" title="Permalink to this definition">#</a></dt>
<dd><p>Open a path and read it as a single stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to read, the last reader registered for the scheme of
the path will be used.</p></li>
<li><p><strong>vineyard_ipc_socket</strong> (<em>str</em>) – The local or remote vineyard’s IPC socket location that the
remote readers will use to establish connections with the
vineyard server.</p></li>
<li><p><strong>vineyard_endpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional address of vineyard’s RPC socket, which will be
used for retrieving server’s information on the client side.
If not provided, the <cite>vineyard_ipc_socket</cite> will be used, or
it will tries to discovery vineyard’s IPC or RPC endpoints
from environment variables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vineyard.io.write">
<span class="sig-prename descclassname"><span class="pre">vineyard.io.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/stream.html#write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.write" title="Permalink to this definition">#</a></dt>
<dd><p>Write the stream to a given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to write, the last writer registered for the scheme of the path
will be used.</p></li>
<li><p><strong>stream</strong> (<em>vineyard stream</em>) – Stream that produces the data to write.</p></li>
<li><p><strong>vineyard_ipc_socket</strong> (<em>str</em>) – The local or remote vineyard’s IPC socket location that the remote
readers will use to establish connections with the vineyard server.</p></li>
<li><p><strong>vineyard_endpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional address of vineyard’s RPC socket, which will be used for
retrieving server’s information on the client side. If not provided,
the <cite>vineyard_ipc_socket</cite> will be used, or it will tries to discovery
vineyard’s IPC or RPC endpoints from environment variables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="streams">
<span id="python-api-streams"></span><h2>Streams<a class="headerlink" href="#streams" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="vineyard.io.byte.ByteStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.io.byte.</span></span><span class="sig-name descname"><span class="pre">ByteStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard._C.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/byte.html#ByteStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.byte.ByteStream" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.io.dataframe.DataframeStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.io.dataframe.</span></span><span class="sig-name descname"><span class="pre">DataframeStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard._C.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/dataframe.html#DataframeStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.dataframe.DataframeStream" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vineyard.io.recordbatch.RecordBatchStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vineyard.io.recordbatch.</span></span><span class="sig-name descname"><span class="pre">RecordBatchStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#vineyard.ObjectMeta" title="vineyard._C.ObjectMeta"><span class="pre">ObjectMeta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/vineyard/io/recordbatch.html#RecordBatchStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vineyard.io.recordbatch.RecordBatchStream" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="cpp-api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">C++ API Reference</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../api-reference.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API Reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2019-2022, The Vineyard Authors
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link fa fa-solid fa-github fa-2x" href="https://github.com/v6d-io/v6d" aria-label="GitHub"></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Python API Reference</a><ul>
<li><a class="reference internal" href="#objects">Objects</a></li>
<li><a class="reference internal" href="#metadata">Metadata</a></li>
<li><a class="reference internal" href="#vineyard-client">Vineyard client</a></li>
<li><a class="reference internal" href="#vineyard-cluster">Vineyard cluster</a></li>
<li><a class="reference internal" href="#blob">Blob</a></li>
<li><a class="reference internal" href="#resolvers-and-builders">Resolvers and builders</a></li>
<li><a class="reference internal" href="#shared-memory">Shared memory</a></li>
<li><a class="reference internal" href="#deployment">Deployment</a></li>
<li><a class="reference internal" href="#i-o-drivers">I/O Drivers</a></li>
<li><a class="reference internal" href="#streams">Streams</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>